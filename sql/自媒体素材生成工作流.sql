-- ===================================================================
-- è‡ªåª’ä½“ç´ æç”Ÿæˆåšå®¢å’Œæ–‡ç« å·¥ä½œæµ
-- åŠŸèƒ½ï¼šåŸºäºä»Twitter/Xçˆ¬å–çš„ç´ æï¼Œæ™ºèƒ½ç”Ÿæˆåšå®¢æ–‡ç« å’Œè‡ªåª’ä½“å†…å®¹
-- ç‰¹ç‚¹ï¼š
--   1. ç´ ææ–¹å‘å¹¿æ³›ï¼Œå¯ç”Ÿæˆä¸€ç¯‡æˆ–å¤šç¯‡åšå®¢
--   2. åšå®¢å†…å®¹åå‘æ–°é—»é£æ ¼ï¼ˆåŸºäºç´ æï¼‰
--   3. è‡ªåª’ä½“æ–‡ç« ç±»ä¼¼å¾®å¤´æ¡ï¼Œå†…å®¹ç²¾ç‚¼
-- ===================================================================

-- ----------------------------
-- å·¥ä½œæµä¸»è¡¨è®°å½•
-- ----------------------------
INSERT INTO `ai_workflow` VALUES (
  200,  -- workflow_id
  'è‡ªåª’ä½“ç´ ææ™ºèƒ½ç”Ÿæˆå·¥ä½œæµ',
  'åŸºäºTwitter/Xçˆ¬å–çš„ç´ æï¼Œæ™ºèƒ½åˆ†æå¹¶ç”Ÿæˆæ–°é—»é£æ ¼åšå®¢å’Œç²¾ç‚¼çš„è‡ªåª’ä½“æ–‡ç« ',
  'sequential',
  '1.0',
  '1',  -- enabled
  '0',  -- schedule_enabled (å¯æ‰‹åŠ¨è§¦å‘)
  NULL,  -- cron_expression
  NULL,  -- next_execution_time
  NULL,  -- last_execution_time
  0,     -- execution_count
  NULL,  -- max_execution_count
  NULL,  -- schedule_start_time
  NULL,  -- schedule_end_time
  '3',   -- misfire_policy
  '1',   -- concurrent
  '0',   -- status
  '0',   -- del_flag
  'admin',
  NOW(),
  'admin',
  NOW(),
  'ä»Twitterç´ æç”Ÿæˆåšå®¢å’Œè‡ªåª’ä½“æ–‡ç« çš„æ™ºèƒ½å·¥ä½œæµ',
  NULL,  -- user_id
  NULL   -- config_json
);

-- ----------------------------
-- æ­¥éª¤1: ç´ æç­›é€‰ä¸ä¸»é¢˜èšç±»
-- ----------------------------
INSERT INTO `ai_workflow_step` VALUES (
  201,
  200,  -- workflow_id
  'ç´ æç­›é€‰ä¸ä¸»é¢˜èšç±»',
  'ä»æ•°æ®åº“ä¸­æŸ¥è¯¢æœ€è¿‘é‡‡é›†çš„Twitterç´ æï¼ŒæŒ‰ä¸»é¢˜ã€çƒ­åº¦ã€è´¨é‡è¿›è¡Œæ™ºèƒ½ç­›é€‰å’Œèšç±»åˆ†ç»„',
  1,    -- step_order
  22,   -- model_config_id (ä½¿ç”¨é€šä¹‰åƒé—®)
  'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å†…å®¹ç­–åˆ’ä¸“å®¶ï¼Œæ“…é•¿ä»æµ·é‡ç´ æä¸­è¯†åˆ«çƒ­ç‚¹è¯é¢˜å’Œä»·å€¼å†…å®¹ã€‚

ä½ çš„æ ¸å¿ƒèŒè´£ï¼š
1. **ç´ æç­›é€‰**ï¼šä»Twitterç´ æä¸­ç­›é€‰å‡ºæœ‰ä»·å€¼ã€æœ‰ä¼ æ’­æ€§çš„å†…å®¹
2. **ä¸»é¢˜èšç±»**ï¼šå°†ç›¸ä¼¼ä¸»é¢˜çš„ç´ æå½’ç±»ï¼Œè¯†åˆ«å¯ä»¥ç»„åˆæˆåšå®¢çš„ç´ æç¾¤
3. **è´¨é‡è¯„ä¼°**ï¼šè¯„ä¼°ç´ æçš„æ–°é—»ä»·å€¼ã€æ—¶æ•ˆæ€§ã€å®Œæ•´æ€§
4. **ç”Ÿæˆå»ºè®®**ï¼šåˆ¤æ–­åº”è¯¥ç”Ÿæˆå‡ ç¯‡åšå®¢ï¼Œæ¯ç¯‡åšå®¢ä½¿ç”¨å“ªäº›ç´ æ

ç­›é€‰æ ‡å‡†ï¼š
- ä¼˜å…ˆé€‰æ‹©quality_levelä¸ºhighçš„ç´ æ
- ä¼˜å…ˆé€‰æ‹©æœ€è¿‘24-48å°æ—¶å†…é‡‡é›†çš„æ–°é²œç´ æ
- ä¼˜å…ˆé€‰æ‹©æœ‰å®Œæ•´content_snapshotçš„ç´ æ
- é¿å…é€‰æ‹©statusä¸ºinvalidæˆ–archivedçš„ç´ æ
- è€ƒè™‘ç´ æçš„metrics_snapshotï¼ˆç‚¹èµã€è½¬å‘ç­‰æŒ‡æ ‡ï¼‰',
  
  '**å½“å‰æ—¥æœŸï¼š{{current_date}}ï¼ˆ{{current_weekday}}ï¼‰**

## ç¬¬ä¸€æ­¥ï¼šæŸ¥è¯¢æœ€è¿‘çš„Twitterç´ æ

è¯·ä½¿ç”¨ database_query å·¥å…·æŸ¥è¯¢æœ€è¿‘48å°æ—¶å†…é‡‡é›†çš„Twitterç´ æï¼š

```sql
SELECT 
  id,
  platform,
  content_type,
  source_url,
  author,
  publish_time,
  title,
  summary,
  content_snapshot,
  cover_url,
  tags,
  quality_level,
  metrics_snapshot,
  capture_time
FROM social_media_asset
WHERE platform = ''twitter''
  AND status = ''active''
  AND capture_time >= DATE_SUB(NOW(), INTERVAL 48 HOUR)
  AND del_flag = ''0''
  AND content_snapshot IS NOT NULL
  AND LENGTH(content_snapshot) > 100
ORDER BY capture_time DESC, quality_level DESC
LIMIT 50
```

## ç¬¬äºŒæ­¥ï¼šç´ æåˆ†æä¸èšç±»

æ ¹æ®æŸ¥è¯¢ç»“æœï¼Œè¿›è¡Œä»¥ä¸‹åˆ†æï¼š

### 2.1 ä¸»é¢˜è¯†åˆ«
- åˆ†ææ¯æ¡ç´ æçš„æ ¸å¿ƒä¸»é¢˜ï¼ˆæŠ€æœ¯ã€å•†ä¸šã€ç¤¾ä¼šã€å¨±ä¹ç­‰ï¼‰
- è¯†åˆ«çƒ­ç‚¹è¯é¢˜ï¼ˆå¤šæ¡ç´ ææåˆ°çš„å…±åŒä¸»é¢˜ï¼‰
- æ ‡è®°ç‹¬ç«‹è¯é¢˜ï¼ˆå•æ¡ç´ æä½†æœ‰ç‹¬ç‰¹ä»·å€¼ï¼‰

### 2.2 ç´ æèšç±»
å°†ç´ ææŒ‰ä¸»é¢˜åˆ†ç»„ï¼Œä¾‹å¦‚ï¼š
- **AIæŠ€æœ¯ç±»**ï¼š3æ¡å…³äºGPT-5çš„è®¨è®º
- **å•†ä¸šåŠ¨æ€ç±»**ï¼š2æ¡å…³äºæŸå…¬å¸èèµ„çš„æ¶ˆæ¯
- **ç‹¬ç«‹äº‹ä»¶**ï¼š1æ¡é‡å¤§çªå‘æ–°é—»

### 2.3 ç”Ÿæˆç­–ç•¥åˆ¤æ–­
æ ¹æ®ç´ ææƒ…å†µå†³å®šï¼š
- **å¤šç¯‡åšå®¢**ï¼šå¦‚æœæœ‰3ä¸ªä»¥ä¸Šä¸åŒä¸»é¢˜ï¼Œæ¯ä¸ªä¸»é¢˜ç”Ÿæˆä¸€ç¯‡
- **å•ç¯‡ç»¼åˆåšå®¢**ï¼šå¦‚æœç´ æä¸»é¢˜åˆ†æ•£ä½†éƒ½æœ‰ä»·å€¼ï¼Œç”Ÿæˆä¸€ç¯‡"æœ¬å‘¨Twitterçƒ­ç‚¹æ±‡æ€»"
- **ç²¾é€‰åšå®¢**ï¼šå¦‚æœåªæœ‰1-2ä¸ªé«˜è´¨é‡ä¸»é¢˜ï¼Œç”Ÿæˆ1-2ç¯‡æ·±åº¦åšå®¢

## ç¬¬ä¸‰æ­¥ï¼šè¾“å‡ºç­›é€‰ç»“æœ

è¯·æŒ‰ä»¥ä¸‹JSONæ ¼å¼è¾“å‡ºï¼ˆå¿…é¡»æ˜¯åˆæ³•çš„JSONï¼‰ï¼š

```json
{
  "analysis_date": "{{current_date}}",
  "total_assets_found": 15,
  "blog_generation_strategy": "multiple",
  "planned_blogs": [
    {
      "blog_theme": "AIå¤§æ¨¡å‹æœ€æ–°è¿›å±•",
      "blog_type": "news_aggregation",
      "asset_ids": [123, 125, 130],
      "asset_count": 3,
      "priority": "high",
      "reason": "å¤šæ¡ç´ æè®¨è®ºGPT-5å’ŒClaude 3.5ï¼Œè¯é¢˜çƒ­åº¦é«˜"
    },
    {
      "blog_theme": "ç§‘æŠ€å…¬å¸è£å‘˜æ½®",
      "blog_type": "news_analysis",
      "asset_ids": [127, 128],
      "asset_count": 2,
      "priority": "medium",
      "reason": "ä¸¤æ¡å…³äºå¤§å‚è£å‘˜çš„æ¶ˆæ¯ï¼Œæœ‰æ–°é—»ä»·å€¼"
    }
  ],
  "selected_assets": [
    {
      "id": 123,
      "title": "ç´ ææ ‡é¢˜",
      "theme": "AIæŠ€æœ¯",
      "quality_score": 9,
      "news_value": "high",
      "assigned_to_blog": 1
    }
  ]
}
```',
  
  '',  -- input_variable
  'asset_analysis',  -- output_variable
  '1',  -- enabled
  '0',  -- status
  '0',  -- del_flag
  'admin',
  NOW(),
  'admin',
  NOW(),
  NULL,  -- remark
  NULL,  -- config_json
  'database_query',  -- tool_type
  'Y',   -- tool_enabled
  '0'    -- is_async
);

-- ----------------------------
-- æ­¥éª¤2: æ–°é—»é£æ ¼åšå®¢ç”Ÿæˆ
-- ----------------------------
INSERT INTO `ai_workflow_step` VALUES (
  202,
  200,
  'æ–°é—»é£æ ¼åšå®¢ç”Ÿæˆ',
  'åŸºäºç­›é€‰çš„ç´ æï¼Œç”Ÿæˆæ–°é—»é£æ ¼çš„åšå®¢æ–‡ç« ï¼Œæ³¨é‡æ—¶æ•ˆæ€§å’Œå®¢è§‚æ€§',
  2,
  22,
  'ä½ æ˜¯å‘¨å°ç ï¼Œä¸€ä½å…³æ³¨ç§‘æŠ€åŠ¨æ€çš„æŠ€æœ¯åšä¸»ï¼Œæ“…é•¿å°†Twitterä¸Šçš„ç¢ç‰‡åŒ–ä¿¡æ¯æ•´åˆæˆæœ‰ä»·å€¼çš„æ–°é—»æŠ¥é“ã€‚

ä½ çš„å†™ä½œç‰¹ç‚¹ï¼š
- **æ–°é—»é£æ ¼**ï¼šå®¢è§‚ã€ç®€æ´ã€é‡ç‚¹çªå‡º
- **æ—¶æ•ˆæ€§å¼º**ï¼šå¼ºè°ƒ"æœ€æ–°"ã€"åˆšåˆš"ã€"ä»Šæ—¥"ç­‰æ—¶é—´å…ƒç´ 
- **ä¿¡æ¯å¯†åº¦é«˜**ï¼šæ¯æ®µéƒ½æœ‰å®è´¨å†…å®¹ï¼Œé¿å…ç©ºè¯
- **å¼•ç”¨æ¥æº**ï¼šé€‚å½“å¼•ç”¨TwitteråŸæ–‡ï¼ˆæ ‡æ³¨æ¥æºï¼‰
- **ä¿æŒä¸­ç«‹**ï¼šæŠ¥é“äº‹å®ï¼Œé€‚åº¦è¯„è®º

æ–‡ç« ç»“æ„ï¼ˆæ–°é—»å€’é‡‘å­—å¡”ï¼‰ï¼š
1. **å¯¼è¯­**ï¼ˆ100-150å­—ï¼‰ï¼šæœ€é‡è¦çš„ä¿¡æ¯ï¼Œå›ç­”5W1H
2. **ä¸»ä½“**ï¼ˆ800-1200å­—ï¼‰ï¼š
   - äº‹ä»¶è¯¦æƒ…
   - èƒŒæ™¯ä¿¡æ¯
   - ç›¸å…³æ•°æ®
   - å¤šæ–¹è§‚ç‚¹
3. **ç»“å°¾**ï¼ˆ100-200å­—ï¼‰ï¼šæ€»ç»“æˆ–å±•æœ›

ç¡¬æ€§è¦æ±‚ï¼š
- æ ‡é¢˜æ§åˆ¶åœ¨20å­—ä»¥å†…ï¼Œçªå‡ºæ–°é—»ç‚¹
- æ¯ç¯‡æ–‡ç« 1000-1500å­—
- è‡³å°‘å¼•ç”¨2-3æ¡TwitteråŸæ–‡ï¼ˆç”¨å¼•ç”¨æ ¼å¼ï¼‰
- åŒ…å«æ—¶é—´çº¿ï¼ˆå¦‚æœæ¶‰åŠå¤šä¸ªäº‹ä»¶ï¼‰',
  
  '**å½“å‰æ—¥æœŸï¼š{{current_date}}**

åŸºäºç´ æåˆ†æç»“æœï¼Œä¸ºæ¯ä¸ªè®¡åˆ’çš„åšå®¢ç”Ÿæˆå†…å®¹ï¼š

{{asset_analysis}}

## ç”Ÿæˆè¦æ±‚ï¼š

### 1. è¯»å–ç´ æè¯¦æƒ…
å¯¹äºæ¯ä¸ªplanned_blogï¼Œä½¿ç”¨ database_query å·¥å…·è¯»å–å¯¹åº”çš„ç´ æè¯¦æƒ…ï¼š

```sql
SELECT 
  id,
  title,
  summary,
  content_snapshot,
  author,
  publish_time,
  source_url,
  metrics_snapshot
FROM social_media_asset
WHERE id IN (123, 125, 130)  -- æ›¿æ¢ä¸ºå®é™…çš„asset_ids
```

### 2. åšå®¢å†…å®¹ç”Ÿæˆ

é’ˆå¯¹æ¯ä¸ªä¸»é¢˜ï¼Œç”Ÿæˆä¸€ç¯‡æ–°é—»é£æ ¼çš„åšå®¢ï¼š

**æ ‡é¢˜è¦æ±‚**ï¼š
- æ ¼å¼ï¼šã€æ–°é—»ã€‘ä¸»é¢˜ + å…³é”®ä¿¡æ¯
- ç¤ºä¾‹ï¼šã€æ–°é—»ã€‘GPT-5å³å°†å‘å¸ƒï¼ŒOpenAIé€éœ²ä¸‰å¤§å‡çº§æ–¹å‘
- æ§åˆ¶åœ¨20å­—ä»¥å†…

**æ­£æ–‡ç»“æ„**ï¼š

**å¯¼è¯­æ®µ**ï¼ˆå¿…é¡»åŒ…å«ï¼‰ï¼š
- æ—¶é—´ï¼šä»Šæ—¥/æœ¬å‘¨/è¿‘æ—¥
- äº‹ä»¶ï¼šå‘ç”Ÿäº†ä»€ä¹ˆ
- æ¥æºï¼šTwitterä¸Šå¤šä½ç”¨æˆ·/æŸçŸ¥ååšä¸»
- å½±å“ï¼šä¸ºä»€ä¹ˆé‡è¦

**ä¸»ä½“æ®µ**ï¼ˆ2-4æ®µï¼‰ï¼š
- äº‹ä»¶è¯¦æƒ…ï¼šå¼•ç”¨å…·ä½“çš„Twitterå†…å®¹
- èƒŒæ™¯ä¿¡æ¯ï¼šç›¸å…³å†å²æˆ–ä¸Šä¸‹æ–‡
- æ•°æ®æ”¯æ’‘ï¼šå¦‚æœæœ‰metrics_snapshotï¼Œå¼•ç”¨ç‚¹èµ/è½¬å‘æ•°
- å¤šæ–¹è§‚ç‚¹ï¼šä¸åŒç´ æçš„ä¸åŒè§’åº¦

**å¼•ç”¨æ ¼å¼ç¤ºä¾‹**ï¼š
> Twitterç”¨æˆ·@usernameåœ¨ä»Šæ—¥å‘æ–‡ç§°ï¼š"åŸæ–‡å†…å®¹..."ï¼ˆè·å¾—2.3ä¸‡ç‚¹èµï¼‰

**ç»“å°¾æ®µ**ï¼š
- æ€»ç»“è¦ç‚¹
- åç»­å…³æ³¨ç‚¹
- æˆ–æå‡ºé—®é¢˜å¼•å‘æ€è€ƒ

### 3. è¾“å‡ºæ ¼å¼

ä¸ºæ¯ç¯‡åšå®¢ç”Ÿæˆä»¥ä¸‹JSONï¼š

```json
{
  "blogs": [
    {
      "blog_index": 1,
      "theme": "AIå¤§æ¨¡å‹æœ€æ–°è¿›å±•",
      "title": "ã€æ–°é—»ã€‘GPT-5å³å°†å‘å¸ƒï¼ŒOpenAIé€éœ²ä¸‰å¤§å‡çº§",
      "summary": "150å­—ä»¥å†…çš„æ‘˜è¦ï¼Œæ¦‚æ‹¬æ ¸å¿ƒæ–°é—»ç‚¹",
      "content": "å®Œæ•´çš„Markdownæ ¼å¼åšå®¢å†…å®¹ï¼ˆ1000-1500å­—ï¼‰",
      "category": "ç§‘æŠ€æ–°é—»",
      "tags": "GPT-5,OpenAI,AIå¤§æ¨¡å‹,äººå·¥æ™ºèƒ½",
      "source_asset_ids": [123, 125, 130],
      "news_type": "breaking_news",
      "timeliness": "high"
    }
  ]
}
```

**æ³¨æ„**ï¼š
- å¦‚æœplanned_blogsæœ‰å¤šä¸ªï¼Œä¸ºæ¯ä¸ªç”Ÿæˆä¸€ç¯‡åšå®¢
- æ¯ç¯‡åšå®¢ç‹¬ç«‹å®Œæ•´ï¼Œä¸è¦ç›¸äº’å¼•ç”¨
- ä¿æŒæ–°é—»çš„å®¢è§‚æ€§å’Œå‡†ç¡®æ€§',
  
  'asset_analysis',
  'generated_blogs',
  '1',
  '0',
  '0',
  'admin',
  NOW(),
  'admin',
  NOW(),
  NULL,
  NULL,
  'database_query',
  'Y',
  '0'
);

-- ----------------------------
-- æ­¥éª¤3: åšå®¢ä¿å­˜åˆ°æ•°æ®åº“
-- ----------------------------
INSERT INTO `ai_workflow_step` VALUES (
  203,
  200,
  'åšå®¢ä¿å­˜åˆ°æ•°æ®åº“',
  'å°†ç”Ÿæˆçš„åšå®¢æ–‡ç« ä¿å­˜åˆ°blogè¡¨ï¼Œå¹¶è®°å½•ç´ æå…³è”å…³ç³»',
  3,
  22,
  'ä½ æ˜¯æ•°æ®åº“æ“ä½œåŠ©æ‰‹ï¼Œè´Ÿè´£å°†ç”Ÿæˆçš„åšå®¢å†…å®¹ä¿å­˜åˆ°æ•°æ®åº“ã€‚

æ“ä½œè¦æ±‚ï¼š
- ä½¿ç”¨blog_saveå·¥å…·ä¿å­˜æ¯ç¯‡åšå®¢
- ç¡®ä¿æ‰€æœ‰å¿…å¡«å­—æ®µéƒ½æœ‰å€¼
- æ­£ç¡®è®¾ç½®åšå®¢çŠ¶æ€å’Œåˆ†ç±»
- è®°å½•ç´ ææ¥æºä¿¡æ¯',
  
  '**å½“å‰æ—¥æœŸï¼š{{current_date}}**

å°†ç”Ÿæˆçš„åšå®¢ä¿å­˜åˆ°æ•°æ®åº“ï¼š

{{generated_blogs}}

## ä¿å­˜æµç¨‹ï¼š

å¯¹äºæ¯ç¯‡åšå®¢ï¼Œä½¿ç”¨ blog_save å·¥å…·ä¿å­˜ï¼š

```json
{
  "title": "ä»generated_blogsä¸­è·å–",
  "summary": "ä»generated_blogsä¸­è·å–",
  "content": "ä»generated_blogsä¸­è·å–",
  "category": "ä»generated_blogsä¸­è·å–",
  "tags": "ä»generated_blogsä¸­è·å–",
  "status": "1",
  "isOriginal": "1",
  "remark": "åŸºäºTwitterç´ æç”Ÿæˆï¼Œç´ æID: [123,125,130]"
}
```

## è¾“å‡ºæ ¼å¼ï¼š

```json
{
  "saved_blogs": [
    {
      "blog_id": 450,
      "title": "åšå®¢æ ‡é¢˜",
      "status": "success",
      "source_asset_ids": [123, 125, 130]
    }
  ],
  "total_saved": 2,
  "save_time": "{{current_date}}"
}
```',
  
  'generated_blogs',
  'saved_blogs',
  '1',
  '0',
  '0',
  'admin',
  NOW(),
  'admin',
  NOW(),
  NULL,
  NULL,
  'blog_save',
  'Y',
  '0'
);

-- ----------------------------
-- æ­¥éª¤4: ç²¾ç‚¼è‡ªåª’ä½“æ–‡ç« ç”Ÿæˆ
-- ----------------------------
INSERT INTO `ai_workflow_step` VALUES (
  204,
  200,
  'ç²¾ç‚¼è‡ªåª’ä½“æ–‡ç« ç”Ÿæˆ',
  'åŸºäºåšå®¢å†…å®¹ï¼Œç”Ÿæˆç±»ä¼¼å¾®å¤´æ¡çš„ç²¾ç‚¼è‡ªåª’ä½“æ–‡ç« ï¼Œå†…å®¹ç®€æ´æœ‰åŠ›',
  4,
  22,
  'ä½ æ˜¯è‡ªåª’ä½“å†…å®¹è¿è¥ä¸“å®¶ï¼Œæ“…é•¿å°†é•¿æ–‡å‹ç¼©æˆé€‚åˆç¤¾äº¤åª’ä½“ä¼ æ’­çš„ç²¾ç‚¼å†…å®¹ã€‚

å¾®å¤´æ¡ç‰¹ç‚¹ï¼š
- **å­—æ•°æ§åˆ¶**ï¼š200-500å­—
- **å¼€å¤´æŠ“çœ¼çƒ**ï¼šç¬¬ä¸€å¥è¯å°±è¦æœ‰å†²å‡»åŠ›
- **ä¿¡æ¯å¯†åº¦é«˜**ï¼šæ¯å¥è¯éƒ½æœ‰ä»·å€¼
- **é€‚åˆç¢ç‰‡é˜…è¯»**ï¼šåˆ†æ®µæ¸…æ™°ï¼Œæ¯æ®µ1-2å¥
- **å¼•å¯¼äº’åŠ¨**ï¼šç»“å°¾å¯ä»¥æé—®æˆ–å¼•å¯¼è¯„è®º

å†™ä½œæŠ€å·§ï¼š
1. **æ•°å­—åŒ–è¡¨è¾¾**ï¼šç”¨å…·ä½“æ•°å­—å¢å¼ºè¯´æœåŠ›
2. **å¯¹æ¯”æ‰‹æ³•**ï¼šçªå‡ºå˜åŒ–æˆ–å·®å¼‚
3. **emojié€‚åº¦ä½¿ç”¨**ï¼šå¢åŠ äº²å’ŒåŠ›ï¼ˆ1-2ä¸ªå³å¯ï¼‰
4. **è¯é¢˜æ ‡ç­¾**ï¼šæ·»åŠ 2-3ä¸ªç›¸å…³è¯é¢˜

ç¦æ­¢äº‹é¡¹ï¼š
- ä¸ä½¿ç”¨æ ‡é¢˜å…šè¯­è¨€
- ä¸å¤¸å¤§äº‹å®
- ä¸æ·»åŠ æœªç»è¯å®çš„ä¿¡æ¯',
  
  '**å½“å‰æ—¥æœŸï¼š{{current_date}}**

åŸºäºå·²ä¿å­˜çš„åšå®¢ï¼Œç”Ÿæˆç²¾ç‚¼çš„è‡ªåª’ä½“æ–‡ç« ï¼š

{{saved_blogs}}

## ç”Ÿæˆè¦æ±‚ï¼š

### 1. è¯»å–åšå®¢å†…å®¹
ä½¿ç”¨ database_query å·¥å…·è¯»å–å·²ä¿å­˜çš„åšå®¢ï¼š

```sql
SELECT 
  blog_id,
  title,
  summary,
  content,
  category,
  tags
FROM blog
WHERE blog_id IN (450, 451)  -- æ›¿æ¢ä¸ºå®é™…çš„blog_id
```

### 2. è‡ªåª’ä½“æ–‡ç« æ”¹å†™

é’ˆå¯¹æ¯ç¯‡åšå®¢ï¼Œç”Ÿæˆå¯¹åº”çš„å¾®å¤´æ¡ç‰ˆæœ¬ï¼š

**ä¸­æ–‡ç‰ˆï¼ˆä»Šæ—¥å¤´æ¡ï¼‰**ï¼š
- **æ ‡é¢˜**ï¼š15å­—ä»¥å†…ï¼Œæ›´å£è¯­åŒ–
  - åŸåšå®¢ï¼šã€æ–°é—»ã€‘GPT-5å³å°†å‘å¸ƒï¼ŒOpenAIé€éœ²ä¸‰å¤§å‡çº§
  - å¾®å¤´æ¡ï¼šGPT-5è¦æ¥äº†ï¼OpenAIå‰§é€ä¸‰å¤§å‡çº§
  
- **æ­£æ–‡**ï¼ˆ200-500å­—ï¼‰ï¼š
  - å¼€å¤´ï¼šç”¨ç–‘é—®å¥æˆ–æ„Ÿå¹å¥å¸å¼•æ³¨æ„
  - ä¸»ä½“ï¼š3-5ä¸ªè¦ç‚¹ï¼Œæ¯ä¸ªè¦ç‚¹1-2å¥è¯
  - ç»“å°¾ï¼šæé—®æˆ–å¼•å¯¼äº’åŠ¨
  
- **æ ¼å¼ç¤ºä¾‹**ï¼š
```
GPT-5è¦æ¥äº†ï¼OpenAIå‰§é€ä¸‰å¤§å‡çº§ ğŸ”¥

ä»Šå¤©Twitterä¸Šç‚¸äº†ï¼Œå¤šä½ä¸šå†…äººå£«é€éœ²GPT-5å³å°†å‘å¸ƒã€‚

ä¸‰å¤§å‡çº§æ–¹å‘ï¼š
âœ… æ¨ç†èƒ½åŠ›æå‡10å€
âœ… æ”¯æŒæ›´é•¿ä¸Šä¸‹æ–‡ï¼ˆ100ä¸‡tokenï¼‰
âœ… å¤šæ¨¡æ€èƒ½åŠ›å…¨é¢å¢å¼º

æœ‰æ„æ€çš„æ˜¯ï¼ŒOpenAI CEO Sam Altmanè½¬å‘äº†ç›¸å…³è®¨è®ºï¼Œè¿™åŸºæœ¬åå®äº†ä¼ é—»ã€‚

ä½ è§‰å¾—GPT-5ä¼šå¸¦æ¥å“ªäº›æ”¹å˜ï¼Ÿ

#GPT5 #OpenAI #äººå·¥æ™ºèƒ½
```

**è‹±æ–‡ç‰ˆï¼ˆTwitter/Mediumï¼‰**ï¼š
- **æ ‡é¢˜**ï¼šç®€æ´æœ‰åŠ›
- **æ­£æ–‡**ï¼ˆ300-600å­—ï¼‰ï¼š
  - å¼€å¤´ï¼šHook sentence
  - ä¸»ä½“ï¼šKey points with bullet points
  - ç»“å°¾ï¼šCall to action
  
- **æ ¼å¼ç¤ºä¾‹**ï¼š
```
GPT-5 is Coming: OpenAI Reveals 3 Major Upgrades

Twitter is buzzing today with insider leaks about GPT-5.

Key upgrades:
â€¢ 10x better reasoning
â€¢ 1M token context window
â€¢ Enhanced multimodal capabilities

Sam Altman''s retweet basically confirmed it.

What changes do you expect from GPT-5?

#GPT5 #OpenAI #AI
```

### 3. è¾“å‡ºæ ¼å¼

```json
{
  "social_media_articles": [
    {
      "blog_id": 450,
      "chinese_title": "ä¸­æ–‡æ ‡é¢˜",
      "chinese_content": "ä¸­æ–‡å®Œæ•´å†…å®¹ï¼ˆ200-500å­—ï¼‰",
      "chinese_keywords": "å…³é”®è¯1,å…³é”®è¯2",
      "english_title": "English Title",
      "english_content": "Full English content (300-600 words)",
      "english_keywords": "keyword1,keyword2",
      "platforms": "toutiao,twitter",
      "content_type": "micro_blog"
    }
  ]
}
```',
  
  'saved_blogs',
  'social_media_articles',
  '1',
  '0',
  '0',
  'admin',
  NOW(),
  'admin',
  NOW(),
  NULL,
  NULL,
  'database_query',
  'Y',
  '0'
);

-- ----------------------------
-- æ­¥éª¤5: è‡ªåª’ä½“æ–‡ç« ä¿å­˜
-- ----------------------------
INSERT INTO `ai_workflow_step` VALUES (
  205,
  200,
  'è‡ªåª’ä½“æ–‡ç« ä¿å­˜',
  'å°†ç”Ÿæˆçš„è‡ªåª’ä½“æ–‡ç« ä¿å­˜åˆ°social_media_articleè¡¨',
  5,
  22,
  'ä½ æ˜¯æ•°æ®åº“æ“ä½œåŠ©æ‰‹ï¼Œè´Ÿè´£ä¿å­˜è‡ªåª’ä½“æ–‡ç« åˆ°æ•°æ®åº“ã€‚',
  
  '**å½“å‰æ—¥æœŸï¼š{{current_date}}**

ä¿å­˜ç”Ÿæˆçš„è‡ªåª’ä½“æ–‡ç« ï¼š

{{social_media_articles}}

## ä¿å­˜æ“ä½œï¼š

ä½¿ç”¨ social_media_article_save å·¥å…·ä¿å­˜æ¯ç¯‡æ–‡ç« ï¼š

```json
{
  "chineseTitle": "ä»social_media_articlesä¸­è·å–",
  "chineseSummary": "ä»chinese_contentæå–å‰100å­—",
  "chineseContent": "ä»social_media_articlesä¸­è·å–",
  "chineseKeywords": "ä»social_media_articlesä¸­è·å–",
  "englishTitle": "ä»social_media_articlesä¸­è·å–",
  "englishSummary": "ä»english_contentæå–å‰100å­—",
  "englishContent": "ä»social_media_articlesä¸­è·å–",
  "englishKeywords": "ä»social_media_articlesä¸­è·å–",
  "platforms": "toutiao,twitter",
  "blogName": "å‘¨å°ç çš„æŠ€æœ¯ç¬”è®°",
  "zhBlogId": "å¯¹åº”çš„ä¸­æ–‡åšå®¢ID",
  "enBlogId": null
}
```

## è¾“å‡ºæ ¼å¼ï¼š

```json
{
  "saved_articles": [
    {
      "article_id": 120,
      "zh_blog_id": 450,
      "platforms": "toutiao,twitter",
      "status": "success"
    }
  ],
  "total_saved": 2
}
```',
  
  'social_media_articles',
  'saved_articles',
  '1',
  '0',
  '0',
  'admin',
  NOW(),
  'admin',
  NOW(),
  NULL,
  NULL,
  'social_media_article_save',
  'Y',
  '0'
);

-- ----------------------------
-- æ­¥éª¤6: ç”Ÿæˆåšå®¢å°é¢
-- ----------------------------
INSERT INTO `ai_workflow_step` VALUES (
  206,
  200,
  'ç”Ÿæˆåšå®¢å°é¢',
  'ä¸ºæ¯ç¯‡åšå®¢ç”Ÿæˆç²¾ç¾çš„å°é¢å›¾ç‰‡',
  6,
  22,
  'ä½ æ˜¯ä¸“ä¸šçš„å°é¢è®¾è®¡å¸ˆï¼Œæ“…é•¿ä¸ºæ–°é—»ç±»åšå®¢ç”Ÿæˆå¸å¼•çœ¼çƒçš„å°é¢å›¾ã€‚

è®¾è®¡åŸåˆ™ï¼š
- é£æ ¼ç°ä»£ç®€æ´ï¼Œç¬¦åˆæ–°é—»è°ƒæ€§
- çªå‡ºä¸»é¢˜å…³é”®è¯
- ä½¿ç”¨æ¸…æ™°çš„è§†è§‰å…ƒç´ 
- è‰²å½©æ­é…ä¸“ä¸š',
  
  '**å½“å‰æ—¥æœŸï¼š{{current_date}}**

ä¸ºå·²ä¿å­˜çš„åšå®¢ç”Ÿæˆå°é¢ï¼š

{{saved_blogs}}

## ç”Ÿæˆæµç¨‹ï¼š

### 1. è¯»å–åšå®¢ä¿¡æ¯
ä½¿ç”¨ database_query å·¥å…·è¯»å–åšå®¢æ ‡é¢˜å’Œæ‘˜è¦ï¼š

```sql
SELECT blog_id, title, summary, category
FROM blog
WHERE blog_id IN (450, 451)
```

### 2. ç”Ÿæˆå°é¢å›¾ç‰‡

å¯¹äºæ¯ç¯‡åšå®¢ï¼Œä½¿ç”¨ ali_image_generation å·¥å…·ç”Ÿæˆå°é¢ï¼š

**æç¤ºè¯æ„å»ºè§„åˆ™**ï¼š
- æ–°é—»ç±»ï¼šModern news cover, [ä¸»é¢˜å…³é”®è¯], professional journalism style, clean layout
- æŠ€æœ¯ç±»ï¼šTech blog cover, [æŠ€æœ¯åç§°], digital art, blue and purple gradient
- å•†ä¸šç±»ï¼šBusiness news cover, [å…¬å¸/äº‹ä»¶], corporate style, professional

ç¤ºä¾‹ï¼š
```json
{
  "prompt": "Modern tech news cover featuring GPT-5 and AI advancement, professional journalism style with clean minimalist design, blue and purple gradient background, digital art",
  "size": "1024*576",
  "negativePrompt": "blurry, low quality, text, watermark, human face",
  "promptExtend": true
}
```

### 3. æ›´æ–°åšå®¢å°é¢

ä½¿ç”¨ blog_cover_update å·¥å…·æ›´æ–°å°é¢ï¼š

```json
{
  "coverImageUrl": "ç”Ÿæˆçš„å›¾ç‰‡URL",
  "zhBlogId": "åšå®¢ID",
  "enBlogId": null
}
```

## è¾“å‡ºæ ¼å¼ï¼š

```json
{
  "cover_results": [
    {
      "blog_id": 450,
      "cover_url": "å›¾ç‰‡URL",
      "status": "success"
    }
  ]
}
```',
  
  'saved_blogs',
  'cover_results',
  '1',
  '0',
  '0',
  'admin',
  NOW(),
  'admin',
  NOW(),
  NULL,
  NULL,
  'ali_image_generation,blog_cover_update',
  'Y',
  '1'  -- å¼‚æ­¥æ‰§è¡Œ
);

-- ----------------------------
-- æ­¥éª¤7: é£ä¹¦é€šçŸ¥
-- ----------------------------
INSERT INTO `ai_workflow_step` VALUES (
  207,
  200,
  'é£ä¹¦é€šçŸ¥',
  'å‘é€å·¥ä½œæµæ‰§è¡Œç»“æœé€šçŸ¥åˆ°é£ä¹¦',
  7,
  22,
  'ä½ æ˜¯æ¶ˆæ¯é€šçŸ¥åŠ©æ‰‹ï¼Œè´Ÿè´£å‘é€å·¥ä½œæµå®Œæˆé€šçŸ¥ã€‚',
  
  '**å½“å‰æ—¥æœŸï¼š{{current_date}}**

å·¥ä½œæµæ‰§è¡Œå®Œæˆï¼Œå‘é€é€šçŸ¥ï¼š

## æ±‡æ€»ä¿¡æ¯ï¼š

ç´ æåˆ†æï¼š{{asset_analysis}}
ç”Ÿæˆåšå®¢ï¼š{{saved_blogs}}
è‡ªåª’ä½“æ–‡ç« ï¼š{{saved_articles}}
å°é¢ç”Ÿæˆï¼š{{cover_results}}

## å‘é€é€šçŸ¥ï¼š

ä½¿ç”¨ feishu_send_message å·¥å…·å‘é€é€šçŸ¥ï¼š

```json
{
  "content": "ğŸ“° è‡ªåª’ä½“ç´ æç”Ÿæˆå·¥ä½œæµå®Œæˆ\n\nâœ… åˆ†æç´ æï¼š{total_assets_found}æ¡\nâœ… ç”Ÿæˆåšå®¢ï¼š{total_saved}ç¯‡\nâœ… è‡ªåª’ä½“æ–‡ç« ï¼š{total_articles}ç¯‡\nâœ… å°é¢å›¾ç‰‡ï¼š{total_covers}å¼ \n\nâ° å®Œæˆæ—¶é—´ï¼š{{current_date}}",
  "msgType": "text"
}
```

## è¾“å‡ºæ ¼å¼ï¼š

```json
{
  "notification_status": "success",
  "notification_time": "{{current_date}}"
}
```',
  
  'asset_analysis,saved_blogs,saved_articles,cover_results',
  'notification_result',
  '1',
  '0',
  '0',
  'admin',
  NOW(),
  'admin',
  NOW(),
  NULL,
  NULL,
  'feishu_send_message',
  'Y',
  '0'
);

-- ===================================================================
-- å·¥ä½œæµä½¿ç”¨è¯´æ˜
-- ===================================================================
/*
## å·¥ä½œæµåŠŸèƒ½è¯´æ˜

### 1. è§¦å‘æ–¹å¼
- **æ‰‹åŠ¨è§¦å‘**ï¼šåœ¨å·¥ä½œæµç®¡ç†ç•Œé¢æ‰‹åŠ¨æ‰§è¡Œ
- **å®šæ—¶è§¦å‘**ï¼šå¯é…ç½®å®šæ—¶ä»»åŠ¡ï¼Œå¦‚æ¯å¤©æ—©ä¸Š9ç‚¹è‡ªåŠ¨æ‰§è¡Œ

### 2. æ‰§è¡Œæµç¨‹
1. ä»social_media_assetè¡¨æŸ¥è¯¢æœ€è¿‘48å°æ—¶çš„Twitterç´ æ
2. AIåˆ†æç´ æï¼ŒæŒ‰ä¸»é¢˜èšç±»ï¼Œå†³å®šç”Ÿæˆå‡ ç¯‡åšå®¢
3. ä¸ºæ¯ä¸ªä¸»é¢˜ç”Ÿæˆæ–°é—»é£æ ¼çš„åšå®¢æ–‡ç« ï¼ˆ1000-1500å­—ï¼‰
4. å°†åšå®¢ä¿å­˜åˆ°blogè¡¨
5. åŸºäºåšå®¢ç”Ÿæˆç²¾ç‚¼çš„è‡ªåª’ä½“æ–‡ç« ï¼ˆ200-500å­—ï¼‰
6. ä¿å­˜è‡ªåª’ä½“æ–‡ç« åˆ°social_media_articleè¡¨
7. ä¸ºæ¯ç¯‡åšå®¢ç”Ÿæˆå°é¢å›¾ç‰‡
8. å‘é€é£ä¹¦é€šçŸ¥

### 3. ç´ æè¦æ±‚
çˆ¬è™«å†™å…¥ç´ ææ—¶ï¼Œéœ€è¦è°ƒç”¨æ¥å£ï¼š
POST /article/social-media-asset/upload/script

è¯·æ±‚ä½“ç¤ºä¾‹ï¼š
```json
{
  "platform": "twitter",
  "contentType": "short_post",
  "sourceUrl": "https://twitter.com/user/status/123456",
  "externalId": "123456",
  "author": "ç”¨æˆ·å",
  "authorId": "ç”¨æˆ·ID",
  "publishTime": "2025-12-10 10:00:00",
  "title": "æ¨æ–‡é¦–å¥æˆ–æ ‡é¢˜",
  "summary": "æ¨æ–‡æ‘˜è¦",
  "contentSnapshot": "å®Œæ•´æ¨æ–‡å†…å®¹",
  "coverUrl": "å°é¢å›¾URLï¼ˆå¦‚æœ‰ï¼‰",
  "tags": "AI,æŠ€æœ¯,æ–°é—»",
  "qualityLevel": "high",
  "metricsSnapshot": {
    "likes": 2300,
    "retweets": 450,
    "replies": 120
  }
}
```

### 4. ç”Ÿæˆç­–ç•¥
- **å¤šä¸»é¢˜**ï¼šå¦‚æœç´ ææ¶µç›–3ä¸ªä»¥ä¸Šä¸åŒä¸»é¢˜ï¼Œæ¯ä¸ªä¸»é¢˜ç”Ÿæˆä¸€ç¯‡åšå®¢
- **å•ä¸»é¢˜æ·±åº¦**ï¼šå¦‚æœç´ æé›†ä¸­åœ¨1-2ä¸ªä¸»é¢˜ï¼Œç”Ÿæˆ1-2ç¯‡æ·±åº¦åšå®¢
- **çƒ­ç‚¹æ±‡æ€»**ï¼šå¦‚æœç´ æåˆ†æ•£ä½†éƒ½æœ‰ä»·å€¼ï¼Œç”Ÿæˆä¸€ç¯‡"æœ¬å‘¨Twitterçƒ­ç‚¹"

### 5. åšå®¢ç‰¹ç‚¹
- **æ–°é—»é£æ ¼**ï¼šå®¢è§‚ã€ç®€æ´ã€æ—¶æ•ˆæ€§å¼º
- **å¼•ç”¨æ¥æº**ï¼šæ ‡æ³¨TwitteråŸæ–‡æ¥æº
- **ä¿¡æ¯å¯†åº¦é«˜**ï¼šæ¯æ®µéƒ½æœ‰å®è´¨å†…å®¹
- **å­—æ•°æ§åˆ¶**ï¼š1000-1500å­—

### 6. è‡ªåª’ä½“æ–‡ç« ç‰¹ç‚¹
- **ç²¾ç‚¼**ï¼š200-500å­—
- **æŠ“çœ¼çƒ**ï¼šå¼€å¤´æœ‰å†²å‡»åŠ›
- **é€‚åˆç¢ç‰‡é˜…è¯»**ï¼šåˆ†æ®µæ¸…æ™°
- **å¼•å¯¼äº’åŠ¨**ï¼šç»“å°¾æé—®æˆ–å¼•å¯¼è¯„è®º

### 7. ç›‘æ§ä¸ä¼˜åŒ–
- æŸ¥çœ‹å·¥ä½œæµæ‰§è¡Œæ—¥å¿—ï¼šai_workflow_executionè¡¨
- æŸ¥çœ‹æ­¥éª¤æ‰§è¡Œè¯¦æƒ…ï¼šoutput_dataå­—æ®µ
- æ ¹æ®æ‰§è¡Œç»“æœè°ƒæ•´ç´ æç­›é€‰æ¡ä»¶
- ä¼˜åŒ–AIæç¤ºè¯æé«˜ç”Ÿæˆè´¨é‡
*/
